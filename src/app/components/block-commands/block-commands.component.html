<div class="commands">
    <div *ngFor="let command of block.commands" class="command">
        <select [(ngModel)]="command.type">
            <option *ngFor="let type of commandTypeNames" [value]="type">{{type}}</option>
        </select>
        
        <ng-container [ngSwitch]="command.type">
            <select *ngSwitchCase="commandTypes.SCALE" [(ngModel)]="command.value">
                <option *ngFor="let name of scaleNames" [value]="name">{{name}}</option>
            </select>
            
            <select *ngSwitchCase="commandTypes.PLAYMODE" [(ngModel)]="command.value">
                <option *ngFor="let name of playModeNames" [value]="name">{{name}}</option>
            </select>
            
            <div *ngSwitchDefault class="value-input">
                <input type="text" [(ngModel)]="command.value" 
                       [placeholder]="command.isVariable ? 'Variable name' : 'Value'"
                       (input)="handleValueInput($event, command)">
                <label>
                    <input type="checkbox" [(ngModel)]="command.isVariable">
                    Variable
                </label>
            </div>
        </ng-container>

        <button (click)="removeCommand(command)">X</button>
    </div>
    <button (click)="addCommand()">Add Command</button>
</div>